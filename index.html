<!DOCTYPE html>
<html>
<body>

Refreshing position in <span id="notify"></span>


<p id="demo" style="font-size:30px;font-weight:bold;"></p>

<script>
var x = document.getElementById("demo");
var y = document.getElementById("notify");
getLocation();
setInterval(function(){getLocation()}, 20000);
var childinterval
function getLocation() {
  console.log('called main')
  clearInterval(childinterval)
  var sec = 20
  childinterval = setInterval(function(){sec = sec-1; notify.innerHTML = sec;console.log('called seconds' + sec);}, 1000);
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude + 
  "<br>Longitude: " + position.coords.longitude;
}
</script>

</body>
</html>
